/*

  Text: customisable starter pack

  Uses the responsiveScale settings from `typography-scale`

*/

html {
  @apply bg-brand-bg;
}

/* font-feature-settings from http://design.byform.co/ */
body {
  @apply antialiased text-text leading-normal;
  @apply font-sans;
  /* font-feature-settings: "kern" 1,'ss01' 1,'ss02' 1,'ss03' 1,'ss04' 1; */
  font-kerning: normal;
  /* hyphens: auto; */
  -webkit-tap-highlight-color: transparent;
}

::selection {
  @apply bg-text text-white;
}

/*

  Utils

*/

.text-gray {
  color: theme(colors.gray.600);
}

.Text-button {
  transform: translate(-0.025em, -0.04em) !important;
}

.Text-divider {
  @apply mx-1 font-light text-gray-500 inline-block;
  transform: translateY(-0.1em);
}

/*

  Text sizes

*/

.Text-xs {
  font-size: calc(theme(fontSize.xs) * var(--text-ratio));
}

.Text-sm {
  @apply tracking-normal;
  font-size: calc(theme(fontSize.sm) * var(--text-ratio));
}

/* .Button,
.Input, */
.Text-base {
  font-size: calc(theme(fontSize.base) * var(--text-ratio));
}

.Text-xl {
  font-size: calc(theme(fontSize.xl) * var(--text-ratio));
}

p,
ul,
ol {
  @apply tracking-text;
}

p,
ul,
ol,
.Button,
.Input,
.Markdown > *,
.Text,
.Text-lg {
  font-size: calc(theme(fontSize.lg) * var(--text-ratio));
}

.Markdown > *,
.Text,
.Text-lg {
  @apply leading-copy tracking-text;
}

.Text-lg {
  @apply leading-snug tracking-text;
}

/*

  Nav

*/

.Nav-link {
  @apply font-medium inline-flex items-center;
  height: calc(theme(spacing.16) * var(--space-ratio));
}

/*

  Meta

 */

.Meta,
.Markdown blockquote p strong {
  @apply font-sans font-medium uppercase tracking-wider;
  font-size: calc(theme(fontSize.xxs) * var(--text-ratio));
}

.Meta--year {
  @apply font-medium border-b;
  margin-bottom: calc(theme(spacing.1) * var(--space-ratio));
  padding-bottom: calc(theme(spacing.2) * var(--space-ratio));
}

/* used on projects by year archive page */
.Year + .Year {
  margin-top: calc(theme(spacing.8) * var(--space-ratio));
}

/*

  Markdown theme

*/

:root {
  --text-indent: calc(theme(spacing.6) * var(--grid-ratio));
}

/* .Markdown p:not(.Alert) + p {
  text-indent: calc(theme(spacing.10) * var(--grid-ratio));
  text-indent: var(--text-indent);
} */

.Markdown ul,
.Markdown ol {
  padding-left: var(--text-indent);
}

.Markdown ul {
  list-style: disc;
  list-style: none;
}

.Markdown ol {
  list-style: decimal;
}

.Markdown ul + ul {
  list-style: disc;
}

.Markdown li {
  @apply relative;
}

.Markdown li:before {
  @apply absolute inline-block bg-text h-px;
  content: "";
  width: 1.1em;
  /* top: 0.55em; */ /* suisse */
  top: 0.66em; /* tiempos */
  left: -1.333em;
}

/* doesn't work when purge is active? */
.Markdown em {
  @apply not-italic;
}

.Markdown strong {
  @apply font-medium;
}

.Markdown blockquote:first-child {
  @apply mt-0;
}

.Markdown blockquote p {
  @apply border-l;
  @apply py-2 pr-4;
  @apply text-gray-600;
  border-color: rgba(0, 0, 0, 0.2);
  padding-left: var(--text-indent);
}

.Markdown blockquote p p {
  border: initial;
  padding: initial;
}

/* same as Meta font style */
.Markdown blockquote p strong {
  @apply table mt-2 tracking-wider;
  @apply not-italic;
  /* @apply mb-1; */
  /* @apply text-gray-600; */
  /* @apply text-brand-highlight; */
}

.Markdown sup {
  font-size: 66%;
  left: 0.05em;
}

/*

  Post specials

*/

.Alert {
  @apply bg-brand-neutral tracking-wide;
  @apply px-4 py-3;
  font-size: calc(theme(fontSize.sm) * var(--text-ratio));
  margin-bottom: calc(theme(spacing.8) * var(--space-ratio));
}
.Note {
  @apply text-gray-600 tracking-wide pt-2 border-t border-gray-400;
  margin-top: calc(theme(spacing.8) * var(--space-ratio));
  text-indent: initial !important;
}
.Note,
.Note p {
  font-size: calc(theme(fontSize.sm) * var(--text-ratio));
}
/*
Doesn't work, see: https://stackoverflow.com/questions/6447045/css3-selector-first-of-type-with-class-name
Using a class selector (or a type selector) with that pseudo-class means to select an element if it has the given class (or is of the given type) and is the first of its type among its siblings.
 */
/* .Note:first-of-type {
  margin-top: calc(theme(spacing.8) * var(--space-ratio));
} */
.Note:before {
  content: none !important;
}
.Note + .Note {
  @apply border-transparent mt-0;
}
